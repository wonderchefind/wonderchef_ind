{% include 'setting-spacing' %}
{% include 'setting-background-color' %}

{% case section.settings.column %}
    {% when 1 %}
        {%- assign column = '1' -%}
    {% when 2 %}
        {%- assign column = '2' -%}
    {% when 3 %}
        {%- assign column = '3' -%}
    {% when 4 %}
        {%- assign column = '4' -%}
    {% when 5 %}
        {%- assign column = '5' -%}
{% endcase %}

{%- assign carousel = carousel | default: section.settings.collection_layout -%}
{%- assign arrows = arrows | default: section.settings.carousel-arrows -%}
{%- assign dots = dots | default: section.settings.carousel-dots -%}

{%- assign collection = collections[section.settings.collection] -%}
{%- assign collection_2 = collections[section.settings.collection_2] -%}

<div class="halo-section {{ padding_top }} {{ padding_bottom }} {{ background_color }} {{ border-top }} {{ border-bottom }}" data-section-type="collection-tabs">
    <div class="container">
        <div class="halo-special-collection-layout column-{{ column }}">
            <div class="item item--large">
                <div class="halo-collection-tab">
                    <ul class="nav nav-tabs nav-tabs-large" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-row="10" href="#{{ section.id }}_new" data-toggle="tab" role="tab" data-href="/collections/{{ section.settings.collection }}?view=json&sort_by={{ section.settings.tab_sort_by_1 }}">
                                {% include 'multilang' with section.settings.title_tab_new %}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#{{ section.id }}_sellers" data-toggle="tab" role="tab" data-href="/collections/{{ section.settings.collection }}?view=json&sort_by={{ section.settings.tab_sort_by_2 }}">
                                {% include 'multilang' with section.settings.title_tab_sellers %}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#{{ section.id }}_featured" data-toggle="tab" role="tab" data-href="/collections/{{ section.settings.collection }}?view=json&sort_by={{ section.settings.tab_sort_by_3 }}">
                                {% include 'multilang' with section.settings.title_tab_featured %}
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="{{ section.id }}_new" role="tabpanel">
                            <div class="halo-row halo-row-custom column-{{ column }} {% if carousel == 'carousel' %}collection-carousel{% endif %}" 
                                {% if carousel == 'carousel' %}
                                    data-slick='{
                                        "dots": true,
                                        "arrows": false,
                                        "infinite": false,
                                        "mobileFirst": true,
                                        "adaptiveHeight": true,
                                        "slidesToShow": 2,
                                        "slidesToScroll": 2,
                                        "prevArrow": "<div class=&apos;slick-prev slick-arrow&apos;><svg id=&apos;arrow-left&apos; x=&apos;0px&apos; y=&apos;0px&apos; viewBox=&apos;0 0 370.814 370.814&apos; xml:space=&apos;preserve&apos;><g><g><polygon points=&apos;292.92,24.848 268.781,0 77.895,185.401 268.781,370.814 292.92,345.961 127.638,185.401&apos;/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>", 
                                        "nextArrow": "<div class=&apos;slick-next slick-arrow&apos;><svg id=&apos;arrow-right&apos; x=&apos;0px&apos; y=&apos;0px&apos; viewBox=&apos;0 0 478.448 478.448&apos; xml:space=&apos;preserve&apos;><g><g><polygon points=&apos;131.659,0 100.494,32.035 313.804,239.232 100.494,446.373 131.65,478.448 377.954,239.232&apos;/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>",
                                        "responsive": [
                                            {
                                                "breakpoint": 1100,
                                                "settings": {
                                                    "slidesToScroll": {{ column }},
                                                    "slidesToShow": {{ column }},
                                                    "arrows": {{ arrows }},
                                                    "dots": {{ dots }}
                                                }
                                            },
                                            {
                                                "breakpoint": 992,
                                                "settings": {
                                                    "slidesToScroll": {{ column }},
                                                    "slidesToShow": {{ column }}
                                                }
                                            },
                                            {
                                                "breakpoint": 750,
                                                "settings": {
                                                    "slidesToScroll": {{ column | minus: 1 }},
                                                    "slidesToShow": {{ column | minus: 1 }}
                                                }
                                            },
                                            {
                                                "breakpoint": 551,
                                                "settings": {
                                                    "slidesToScroll": 3,
                                                    "slidesToShow": 3
                                                }
                                            }
                                        ]
                                    }'
                                {% endif %}>
                                <div class="halo-item-full halo-loading">
                                    <img class="image_lazyload" src="{{ 'loading.svg' | asset_url }}" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="{{ section.id }}_sellers" role="tabpanel">
                            <div class="halo-row halo-row-custom column-{{ column }} {% if carousel == 'carousel' %}collection-carousel{% endif %}" 
                                {% if carousel == 'carousel' %}
                                    data-slick='{
                                        "dots": true,
                                        "arrows": false,
                                        "infinite": false,
                                        "mobileFirst": true,
                                        "adaptiveHeight": true,
                                        "slidesToShow": 2,
                                        "slidesToScroll": 2,
                                        "prevArrow": "<div class=&apos;slick-prev slick-arrow&apos;><svg id=&apos;arrow-left&apos; x=&apos;0px&apos; y=&apos;0px&apos; viewBox=&apos;0 0 370.814 370.814&apos; xml:space=&apos;preserve&apos;><g><g><polygon points=&apos;292.92,24.848 268.781,0 77.895,185.401 268.781,370.814 292.92,345.961 127.638,185.401&apos;/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>", 
                                        "nextArrow": "<div class=&apos;slick-next slick-arrow&apos;><svg id=&apos;arrow-right&apos; x=&apos;0px&apos; y=&apos;0px&apos; viewBox=&apos;0 0 478.448 478.448&apos; xml:space=&apos;preserve&apos;><g><g><polygon points=&apos;131.659,0 100.494,32.035 313.804,239.232 100.494,446.373 131.65,478.448 377.954,239.232&apos;/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>",
                                        "responsive": [
                                            {
                                                "breakpoint": 1100,
                                                "settings": {
                                                    "slidesToScroll": {{ column }},
                                                    "slidesToShow": {{ column }},
                                                    "arrows": {{ arrows }},
                                                    "dots": {{ dots }}
                                                }
                                            },
                                            {
                                                "breakpoint": 992,
                                                "settings": {
                                                    "slidesToScroll": {{ column }},
                                                    "slidesToShow": {{ column }}
                                                }
                                            },
                                            {
                                                "breakpoint": 750,
                                                "settings": {
                                                    "slidesToScroll": {{ column | minus: 1 }},
                                                    "slidesToShow": {{ column | minus: 1 }}
                                                }
                                            },
                                            {
                                                "breakpoint": 551,
                                                "settings": {
                                                    "slidesToScroll": 3,
                                                    "slidesToShow": 3
                                                }
                                            }
                                        ]
                                    }'
                                {% endif %}>
                                <div class="halo-item-full halo-loading">
                                    <img class="image_lazyload" src="{{ 'loading.svg' | asset_url }}" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="{{ section.id }}_featured" role="tabpanel">
                            <div class="halo-row halo-row-custom column-{{ column }} {% if carousel == 'carousel' %}collection-carousel{% endif %}" 
                                {% if carousel == 'carousel' %}
                                    data-slick='{
                                        "dots": true,
                                        "arrows": false,
                                        "infinite": false,
                                        "mobileFirst": true,
                                        "adaptiveHeight": true,
                                        "slidesToShow": 2,
                                        "slidesToScroll": 2,
                                        "prevArrow": "<div class=&apos;slick-prev slick-arrow&apos;><svg id=&apos;arrow-left&apos; x=&apos;0px&apos; y=&apos;0px&apos; viewBox=&apos;0 0 370.814 370.814&apos; xml:space=&apos;preserve&apos;><g><g><polygon points=&apos;292.92,24.848 268.781,0 77.895,185.401 268.781,370.814 292.92,345.961 127.638,185.401&apos;/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>", 
                                        "nextArrow": "<div class=&apos;slick-next slick-arrow&apos;><svg id=&apos;arrow-right&apos; x=&apos;0px&apos; y=&apos;0px&apos; viewBox=&apos;0 0 478.448 478.448&apos; xml:space=&apos;preserve&apos;><g><g><polygon points=&apos;131.659,0 100.494,32.035 313.804,239.232 100.494,446.373 131.65,478.448 377.954,239.232&apos;/></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>",
                                        "responsive": [
                                            {
                                                "breakpoint": 1100,
                                                "settings": {
                                                    "slidesToScroll": {{ column }},
                                                    "slidesToShow": {{ column }},
                                                    "arrows": {{ arrows }},
                                                    "dots": {{ dots }}
                                                }
                                            },
                                            {
                                                "breakpoint": 992,
                                                "settings": {
                                                    "slidesToScroll": {{ column }},
                                                    "slidesToShow": {{ column }}
                                                }
                                            },
                                            {
                                                "breakpoint": 750,
                                                "settings": {
                                                    "slidesToScroll": {{ column | minus: 1 }},
                                                    "slidesToShow": {{ column | minus: 1 }}
                                                }
                                            },
                                            {
                                                "breakpoint": 551,
                                                "settings": {
                                                    "slidesToScroll": 3,
                                                    "slidesToShow": 3
                                                }
                                            }
                                        ]
                                    }'
                                {% endif %}>
                                <div class="halo-item-full halo-loading">
                                    <img class="image_lazyload" src="{{ 'loading.svg' | asset_url }}" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="item item--small">
                {% if section.settings.title_more != blank %}
                    <div class="section-header text-left" {% if section.settings.custom_color_more %}style="color: {{ section.settings.color_heading_custom_more }}"{% endif %}>
                        {{ section.settings.icon_more }}
                        <h2>{% include 'multilang' with section.settings.title_more %}</h2>
                        <hr class="section-header-border" aria-hidden="true"/>
                    </div>
                {% endif %}
                <div class="collection-more">
                    <div class="halo-row halo-row-custom column-1 {%if carousel == 'carousel' %}collection-carousel{% endif %}"
                        {%if carousel == 'carousel' %}
                            data-slick='{
                                "dots": true,
                                "arrows": false,
                                "infinite": true,
                                "mobileFirst": true,
                                "slidesToShow": 2,
                                "slidesToScroll": 2,
                                "responsive": [
                                    {
                                        "breakpoint": 1100,
                                        "settings": {
                                            "slidesToScroll": 1,
                                            "slidesToShow": 1,
                                            "arrows": {{ arrows }},
                                            "dots": {{ dots }}
                                        }
                                    },
                                    {
                                        "breakpoint": 992,
                                        "settings": {
                                            "slidesToScroll": 4,
                                            "slidesToShow": 4
                                        }
                                    },
                                    {
                                        "breakpoint": 551,
                                        "settings": {
                                            "slidesToScroll": 3,
                                            "slidesToShow": 3
                                        }
                                    }
                                ]
                            }'
                        {% endif %}>
                        {% for product in collection_2.products limit: 4 %}
                            <div class="halo-item">
                                {% include 'product-card-grid' %}
                            </div>
                        {% else %}
                            {% for i in (1..4) %}
                                <div class="halo-item">
                                    <div class="product-card">
                                        <div class="product-image">
                                            <a class="product-link" href="#">
                                                {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
                                                {{ 'product-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
                                            </a>
                                        </div>
                                        <div class="product-content">
                                            <h4 class="product-title">{{ 'homepage.onboarding.product_title' | t }}</h4>
                                            <div class="product-reviews">{% include 'product-price', variant: nil %}</div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% schema %}
{
    "name": "Product Tab Special",
    "settings": [
        {
            "type": "header",
            "content": "Section Layout"
        },
        {
            "type": "checkbox",
            "id": "background-color",
            "label": "Background Gray",
            "default": false
        },
        {
            "type": "checkbox",
            "id": "border-top",
            "label": "show border top",
            "default": false
        },
        {
            "type": "checkbox",
            "id": "border-bottom",
            "label": "show border bottom",
            "default": false
        },
        {
            "type": "range",
            "id": "padding-top",
            "label": "Spacing Top",
            "default": 3,
            "min": 0,
            "max": 10,
            "step": 1
        },
        {
            "type": "range",
            "id": "padding-bottom",
            "label": "Spacing bottom",
            "default": 3,
            "min": 0,
            "max": 10,
            "step": 1
        },
        {
            "type": "header",
            "content": "Large Column"
        },
        {
            "type": "collection",
            "id": "collection",
            "label": "Collection"
        },
        {
            "type": "select",
            "id": "collection_layout",
            "label": "Layout",
            "default": "carousel",
            "options": [
                {
                    "value": "grid",
                    "label": "Grid"
                },
                {
                    "value": "carousel",
                    "label": "Carousel"
                }
            ]
        },
        {
            "type": "range",
            "id": "column",
            "label": "Column",
            "min": 1,
            "max": 4,
            "step": 1,
            "default": 4
        },
        {
            "type": "checkbox",
            "id": "carousel-arrows",
            "label": "show arrows (Layout carousel)",
            "default": false
        },
        {
            "type": "checkbox",
            "id": "carousel-dots",
            "label": "show dots (Layout carousel)",
            "default": false
        },
        {
            "type": "header",
            "content": "Tab New Products"
        },
        {
            "type" : "text",
            "id" : "title_tab_new",
            "label" : "Title Tab",
            "default" : "New Products"
        },
        {
            "type": "select",
            "id": "tab_sort_by_1",
            "label": "Sort By",
            "default": "created-descending",
            "options": [
                {
                    "value": "created-descending",
                    "label": "New Products"
                },
                {
                    "value": "best-selling",
                    "label": "Best Sellers"
                },
                {
                    "value": "manual",
                    "label": "Featured Products"
                }
            ]
        },
        {
            "type": "header",
            "content": "Tab Best Sellers"
        },
        {
            "type" : "text",
            "id" : "title_tab_sellers",
            "label" : "Title Tab",
            "default" : "Best Sellers"
        },
        {
            "type": "select",
            "id": "tab_sort_by_2",
            "label": "Sort By",
            "default": "best-selling",
            "options": [
                {
                    "value": "created-descending",
                    "label": "New Products"
                },
                {
                    "value": "best-selling",
                    "label": "Best Sellers"
                },
                {
                    "value": "manual",
                    "label": "Featured Products"
                }
            ]
        },
        {
            "type": "header",
            "content": "Tab Featured Products"
        },
        {
            "type" : "text",
            "id" : "title_tab_featured",
            "label" : "Title Tab",
            "default" : "Featured Products"
        },
        {
            "type": "select",
            "id": "tab_sort_by_3",
            "label": "Sort By",
            "default": "manual",
            "options": [
                {
                    "value": "created-descending",
                    "label": "New Products"
                },
                {
                    "value": "best-selling",
                    "label": "Best Sellers"
                },
                {
                    "value": "manual",
                    "label": "Featured Products"
                }
            ]
        },
        {
            "type": "header",
            "content": "Small Column"
        },
        {
            "type": "text",
            "id": "icon_more",
            "label": "Icon For Title",
            "info": "Font Awesome [(Where do I find Font Awesome?)](https:\/\/fontawesome.com\/icons)"
        },
        {
            "type": "text",
            "id": "title_more",
            "label": "Title",
            "default": "Collection"
        },
        {
            "type": "checkbox",
            "id": "custom_color_more",
            "label": "custom color heading",
            "default": false
        },
        {
            "type": "color",
            "id": "color_heading_custom_more",
            "label": "Heading Color"
        },
        {
            "type": "collection",
            "id": "collection_2",
            "label": "Collection"
        }
    ],
    "presets": [
        {
            "name": "Product Tab Special",
            "category": "Product Tabs"
        }
    ]
}
{% endschema %}